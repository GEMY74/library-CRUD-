{"version":3,"sources":["components/header/Header.js","firebase.js","services/book-services.js","components/addbook/AddBook.js","components/booklist/BookList.js","App.js","index.js"],"names":["Header","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","bookCollectionRef","collection","addBooks","newBook","addDoc","updateBook","id","updatedBook","bookDoc","doc","updateDoc","deleteBook","deleteDoc","deleteBooks","getAllBooks","getDocs","getBook","getDoc","AddBook","setBookId","useState","status","setStatus","title","setTitle","author","setAuthor","error","msg","message","setMessage","handleSubmit","e","a","preventDefault","undefined","BookDataService","editHandler","docSnap","data","useEffect","setTimeout","className","style","backgroundColor","onClick","type","placeholder","value","onChange","target","BookList","getBookId","books","setBooks","getBooks","docs","map","deleteHandler","Table","index","length","App","bookId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb5b5421.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./header.css\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <nav>\r\n      <h1>Library - CRUD</h1>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAl3UVHwPoj7VIYBWE_SUAPcMRhLOWjT6M\",\r\n  authDomain: \"crud-637eb.firebaseapp.com\",\r\n  projectId: \"crud-637eb\",\r\n  storageBucket: \"crud-637eb.appspot.com\",\r\n  messagingSenderId: \"277493122438\",\r\n  appId: \"1:277493122438:web:4c6a5f45d777db5ca15807\",\r\n  measurementId: \"G-XRHBHLX268\",\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const db = getFirestore(app);\r\n","import { db } from \"../firebase\";\r\n\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  getDoc,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\n\r\nconst bookCollectionRef = collection(db, \"books\");\r\nclass BookDataService {\r\n  addBooks = (newBook) => {\r\n    return addDoc(bookCollectionRef, newBook);\r\n  };\r\n\r\n  updateBook = (id, updatedBook) => {\r\n    const bookDoc = doc(db, \"books\", id);\r\n    return updateDoc(bookDoc, updatedBook);\r\n  };\r\n\r\n  deleteBook = (id) => {\r\n    const bookDoc = doc(db, \"books\", id);\r\n    return deleteDoc(bookDoc);\r\n  };\r\n\r\n  deleteBooks = () => {\r\n    const bookDoc = doc(db, \"books\");\r\n    return deleteDoc(bookDoc);\r\n  };\r\n\r\n  getAllBooks = () => {\r\n    return getDocs(bookCollectionRef);\r\n  };\r\n\r\n  getBook = (id) => {\r\n    const bookDoc = doc(db, \"books\", id);\r\n    return getDoc(bookDoc);\r\n  };\r\n}\r\n\r\nexport default new BookDataService();\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./addbook.css\";\r\nimport BookDataService from \"../../services/book-services\";\r\n\r\nfunction AddBook({ id, setBookId }) {\r\n  const [status, setStatus] = useState(\"Avilable\");\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [message, setMessage] = useState({ error: false, msg: \"\" });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    if (title === \"\" || author === \"\") {\r\n      setMessage({ error: true, msg: \"All fields are required!\" });\r\n      return;\r\n    }\r\n\r\n    const newBook = {\r\n      title,\r\n      author,\r\n      status,\r\n    };\r\n\r\n    try {\r\n      if (id !== undefined && id !== \"\") {\r\n        await BookDataService.updateBook(id, newBook);\r\n        setBookId(\"\");\r\n        setMessage({ error: false, msg: \"Updated successfully!\" });\r\n      } else {\r\n        await BookDataService.addBooks(newBook);\r\n        setMessage({ error: false, msg: \"New Book added successfully!\" });\r\n      }\r\n    } catch (err) {\r\n      setMessage({ error: true, msg: err.message });\r\n    }\r\n\r\n    setTitle(\"\");\r\n    setAuthor(\"\");\r\n  };\r\n\r\n  const editHandler = async () => {\r\n    setMessage(\"\");\r\n    try {\r\n      const docSnap = await BookDataService.getBook(id);\r\n      setTitle(docSnap.data().title);\r\n      setAuthor(docSnap.data().author);\r\n      setStatus(docSnap.data().status);\r\n    } catch (err) {\r\n      setMessage({ error: true, msg: err.message });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id !== undefined && id !== \"\") {\r\n      editHandler();\r\n    }\r\n  }, [id]);\r\n\r\n  setTimeout(() => {\r\n    setMessage(\"\");\r\n  }, 4000);\r\n\r\n  return (\r\n    <div className=\"form__container\">\r\n      {message?.msg && message.error === false && (\r\n        <p className=\"added\" style={{ backgroundColor: \"green\" }}>\r\n          <i className=\"uil uil-multiply\" onClick={() => setMessage(\"\")}></i>\r\n          {message?.msg}\r\n        </p>\r\n      )}\r\n\r\n      {message?.msg && message.error === true && (\r\n        <p className=\"alert\">\r\n          <i className=\"uil uil-multiply\" onClick={() => setMessage(\"\")}></i>\r\n          {message?.msg}\r\n        </p>\r\n      )}\r\n\r\n      <form>\r\n        <div className=\"input\">\r\n          <label> B </label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Book Title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input\">\r\n          <label> A </label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Book Author\"\r\n            value={author}\r\n            onChange={(e) => setAuthor(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"btn_1\">\r\n          <button\r\n            className=\"avilable\"\r\n            onClick={(e) => {\r\n              setStatus(\"Avilable\");\r\n            }}\r\n            type=\"button\"\r\n          >\r\n            Available\r\n          </button>\r\n          <button\r\n            className=\"not\"\r\n            onClick={(e) => {\r\n              setStatus(\"Not Avilable\");\r\n            }}\r\n            type=\"button\"\r\n          >\r\n            Not Available\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"add__btn\">\r\n          <button type=\"Submit\" onClick={handleSubmit} className=\"add\">\r\n            Add/ Update\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddBook;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./booklist.css\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport BookDataService from \"../../services/book-services\";\r\n\r\nfunction BookList({ getBookId }) {\r\n  const [books, setBooks] = useState([]);\r\n  useEffect(() => {\r\n    getBooks();\r\n  }, []);\r\n\r\n  const getBooks = async () => {\r\n    const data = await BookDataService.getAllBooks();\r\n    setBooks(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n  };\r\n\r\n  const deleteHandler = async (id) => {\r\n    await BookDataService.deleteBook(id);\r\n    getBooks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"table_container\">\r\n      <div className=\"table__btn\">\r\n        <button onClick={getBooks} className=\"refresh-btn\">\r\n          Refresh List\r\n        </button>\r\n        {/* <button className=\"delete-btn\">Delete All</button> */}\r\n      </div>\r\n\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Book Title</th>\r\n            <th>Book Author</th>\r\n            <th>Status</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {books.map((doc, index) => {\r\n            return (\r\n              <tr key={doc.id}>\r\n                <td>{index + 1}</td>\r\n                <td>{doc.title}</td>\r\n                <td>{doc.author}</td>\r\n                <td className={doc.status === \"Avilable\" ? \"av\" : \"notav\"}>\r\n                  {doc.status}\r\n                </td>\r\n                <td>\r\n                  <button onClick={(e) => getBookId(doc.id)} className=\"edit\">\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={(e) => deleteHandler(doc.id)}\r\n                    className=\"delete\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n      {books.length === 0 && <h2 className=\"title\">No Books To Show!</h2>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookList;\r\n","import React, { useState } from \"react\";\n\nimport Header from \"./components/header/Header\";\nimport AddBook from \"./components/addbook/AddBook\";\nimport BookList from \"./components/booklist/BookList\";\n\nfunction App() {\n  const getBookIdHandler = (id) => {\n    setBookId(id);\n  };\n\n  const [bookId, setBookId] = useState(\"\");\n\n  return (\n    <div>\n      <Header />\n      <AddBook id={bookId} setBookId={setBookId} />\n      <BookList getBookId={getBookIdHandler} />\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\n\nimport React from \"react\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}