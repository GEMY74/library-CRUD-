(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){},43:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(30),r=c.n(n),a=c(11),s=(c(39),c(10)),o=(c(40),c(5));var i=function(){return Object(o.jsx)("nav",{children:Object(o.jsx)("h1",{children:"Library - CRUD"})})},u=c(3),l=c(0),d=c.n(l),j=(c(43),c(1)),b=c(2),h=c(31),O=c(15),f=Object(h.a)({apiKey:"AIzaSyAl3UVHwPoj7VIYBWE_SUAPcMRhLOWjT6M",authDomain:"crud-637eb.firebaseapp.com",projectId:"crud-637eb",storageBucket:"crud-637eb.appspot.com",messagingSenderId:"277493122438",appId:"1:277493122438:web:4c6a5f45d777db5ca15807",measurementId:"G-XRHBHLX268"}),p=Object(O.g)(f),v=Object(O.b)(p,"books"),x=new(Object(j.a)((function e(){Object(b.a)(this,e),this.addBooks=function(e){return Object(O.a)(v,e)},this.updateBook=function(e,t){var c=Object(O.d)(p,"books",e);return Object(O.h)(c,t)},this.deleteBook=function(e){var t=Object(O.d)(p,"books",e);return Object(O.c)(t)},this.deleteBooks=function(){var e=Object(O.d)(p,"books");return Object(O.c)(e)},this.getAllBooks=function(){return Object(O.f)(v)},this.getBook=function(e){var t=Object(O.d)(p,"books",e);return Object(O.e)(t)}})));var m=function(e){var t=e.id,c=e.setBookId,n=Object(a.useState)("Avilable"),r=Object(s.a)(n,2),i=r[0],l=r[1],j=Object(a.useState)(""),b=Object(s.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(""),p=Object(s.a)(f,2),v=p[0],m=p[1],k=Object(a.useState)({error:!1,msg:""}),g=Object(s.a)(k,2),B=g[0],N=g[1],y=function(){var e=Object(u.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),N(""),""!==h&&""!==v){e.next=5;break}return N({error:!0,msg:"All fields are required!"}),e.abrupt("return");case 5:if(r={title:h,author:v,status:i},e.prev=6,void 0===t||""===t){e.next=14;break}return e.next=10,x.updateBook(t,r);case 10:c(""),N({error:!1,msg:"Updated successfully!"}),e.next=17;break;case 14:return e.next=16,x.addBooks(r);case 16:N({error:!1,msg:"New Book added successfully!"});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),N({error:!0,msg:e.t0.message});case 22:O(""),m("");case 24:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(""),e.prev=1,e.next=4,x.getBook(t);case 4:c=e.sent,O(c.data().title),m(c.data().author),l(c.data().status),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),N({error:!0,msg:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){void 0!==t&&""!==t&&A()}),[t]),setTimeout((function(){N("")}),4e3),Object(o.jsxs)("div",{className:"form__container",children:[(null===B||void 0===B?void 0:B.msg)&&!1===B.error&&Object(o.jsxs)("p",{className:"added",style:{backgroundColor:"green"},children:[Object(o.jsx)("i",{className:"uil uil-multiply",onClick:function(){return N("")}}),null===B||void 0===B?void 0:B.msg]}),(null===B||void 0===B?void 0:B.msg)&&!0===B.error&&Object(o.jsxs)("p",{className:"alert",children:[Object(o.jsx)("i",{className:"uil uil-multiply",onClick:function(){return N("")}}),null===B||void 0===B?void 0:B.msg]}),Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"input",children:[Object(o.jsx)("label",{children:" B "}),Object(o.jsx)("input",{type:"text",placeholder:"Book Title",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(o.jsxs)("div",{className:"input",children:[Object(o.jsx)("label",{children:" A "}),Object(o.jsx)("input",{type:"text",placeholder:"Book Author",value:v,onChange:function(e){return m(e.target.value)}})]}),Object(o.jsxs)("div",{className:"btn_1",children:[Object(o.jsx)("button",{className:"avilable",onClick:function(e){l("Avilable")},type:"button",children:"Available"}),Object(o.jsx)("button",{className:"not",onClick:function(e){l("Not Avilable")},type:"button",children:"Not Available"})]}),Object(o.jsx)("div",{className:"add__btn",children:Object(o.jsx)("button",{type:"Submit",onClick:y,className:"add",children:"Add/ Update"})})]})]})},k=c(18),g=(c(45),c(48));var B=function(e){var t=e.getBookId,c=Object(a.useState)([]),n=Object(s.a)(c,2),r=n[0],i=n[1];Object(a.useEffect)((function(){l()}),[]);var l=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAllBooks();case 2:t=e.sent,i(t.docs.map((function(e){return Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.deleteBook(t);case 2:l();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"table_container",children:[Object(o.jsx)("div",{className:"table__btn",children:Object(o.jsx)("button",{onClick:l,className:"refresh-btn",children:"Refresh List"})}),Object(o.jsxs)(g.a,{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"Book Title"}),Object(o.jsx)("th",{children:"Book Author"}),Object(o.jsx)("th",{children:"Status"}),Object(o.jsx)("th",{children:"Action"})]})}),Object(o.jsx)("tbody",{children:r.map((function(e,c){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:c+1}),Object(o.jsx)("td",{children:e.title}),Object(o.jsx)("td",{children:e.author}),Object(o.jsx)("td",{className:"Avilable"===e.status?"av":"notav",children:e.status}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(c){return t(e.id)},className:"edit",children:"Edit"}),Object(o.jsx)("button",{onClick:function(t){return j(e.id)},className:"delete",children:"Delete"})]})]},e.id)}))})]}),0===r.length&&Object(o.jsx)("h2",{className:"title",children:"No Books To Show!"})]})};var N=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(i,{}),Object(o.jsx)(m,{id:c,setBookId:n}),Object(o.jsx)(B,{getBookId:function(e){n(e)}})]})};r.a.render(Object(o.jsx)(N,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.bb5b5421.chunk.js.map